# Weather_Forecast_


### ğŸ–¥ï¸ í”„ë¡œì íŠ¸ ì†Œê°œ
- tkinter, beautifulsoup, seleniumë¥¼ ì´ìš©í•´ ë‚ ì”¨ë¥¼ ì•Œ ìˆ˜ ìˆê²Œ ë§Œë“  í”„ë¡œê·¸ë¨

### ğŸ•°ï¸ ê°œë°œ ê¸°ê°„
- 23.11.09ì¼   ~   23.12.09ì¼

### âš™ï¸ ê°œë°œ í™˜ê²½
- `python 3.11`
- **IDE** : Visual Studio Code

### ğŸ“‹ ì‹¤í–‰í•˜ê¸°ì— ì•ì„œ í•´ì•¼ë˜ëŠ” ê²ƒ
 1. tkinter ì„¤ì¹˜
Pythonì—ì„œ GUIë¥¼ ì§ì ‘ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” libraryì¸ tkinterë¥¼ ë¨¼ì € ì„¤ì¹˜í•´ì¤˜ì•¼í•©ë‹ˆë‹¤.
ì„¤ì¹˜ë°©ë²•ì€ ì•„ë˜ ì½”ë“œë¥¼ terminalì— ê·¸ëŒ€ë¡œ ì‘ì„±í•˜ì‹œë©´ ì„¤ì¹˜ê°€ ë©ë‹ˆë‹¤.
    ```python
    pip install tk
    ```
    
2. beautifulsoup ì„¤ì¹˜
beautifulsoupë˜í•œ tkinterì™€ ë™ì¼í•˜ê²Œ ì•„ë˜ì˜ ì½”ë“œë¥¼ terminalì— ê·¸ëŒ€ë¡œ ì‘ì„±í•˜ì‹œë©´ ë©ë‹ˆë‹¤.
    ```python
    pip install beautifulsoup4
    ```

3. seleniumì„¤ì¹˜
    seleniumë„ ìœ„ì˜ ê¸°ëŠ¥ë“¤ê³¼ ê°™ì´ ì•„ë˜ì˜ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì‘ì„±í•˜ì‹œë©´ ì„¤ì¹˜ ê°€ëŠ¥í•©ë‹ˆë‹¤.
    ```python
    pip install beautifulsoup4
    ```
    
4. íŒŒì¼ ìœ„ì¹˜ ì„¤ì •
    seleniumìœ¼ë¡œ ì£¼ê°„ ë‚ ì”¨ì— ëŒ€í•œ ìŠ¤í¬ë¦° ìƒ·ì„ ì €ì¥í•˜ê¸° ë–„ë¬¸ì— ì €ì¥ ìœ„ì¹˜ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.
    githubì— ìˆëŠ” weatheríŒŒì¼ì„ ëª¨ë‘ ë‹¤ìš´ë°›ì•„ ë°”íƒ•í™”ë©´ì— weatheríŒŒì¼ì„ ë‘ë©´ ë©ë‹ˆë‹¤.




### ğŸ“Œ ì‚¬ìš© ë°©ë²•

1. weatheríŒŒì¼ì— ìˆëŠ” weather.pyíŒŒì¼ì„ ì—´ê³  ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤.

2. ì‹¤í–‰í•˜ê²Œ ë˜ë©´ ì•„ë˜ì˜ ì‚¬ì§„ê³¼ ê°™ì€ ì°½ì´ ë‚˜ì˜¤ê²Œ ë©ë‹ˆë‹¤.
![main](https://github.com/EndlessCreation/Web_basic_study_2021-1/assets/68912105/a044e495-8b53-49a4-aee7-1897ffa0df95)

3. ì¡°íšŒí•˜ê³  ì‹¶ì€ ë„ì‹œë¥¼ "í•œê¸€"ë¡œ ì…ë ¥í•˜ê³  ê²€ìƒ‰ë²„íŠ¼ì„ ëˆ„ë¦…ë‹ˆë‹¤.
3.1. ë§Œì•½ "ë„ì‹œì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”."ë¼ê³  ë‚˜ì™€ìˆëŠ” ì¹¸ì„ ê±´ë“œë¦¬ì§€ ì•Šê±°ë‚˜ ì•„ë¬´ê²ƒë„ ì…ë ¥í•˜ì§€ ì•Šê³  ê²€ìƒ‰ì„ í•˜ê²Œëœë‹¤ë©´ 
ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì€ ì˜¤ë¥˜ì°½ì´ ëœ¨ê²Œ ë©ë‹ˆë‹¤.
![error](https://github.com/EndlessCreation/Web_basic_study_2021-1/assets/68912105/a8e2e468-e13f-497b-b70a-81528ef405d0)

    3.2. ë„ì‹œë¥¼ ì˜ ì…ë ¥í•˜ê³  ë‚ ì§œë¥¼ ì˜ ì„ íƒí•´ì„œ ê²€ìƒ‰ì„ ëˆ„ë¥´ê²Œ ëœë‹¤ë©´ ì•„ë˜ ë‘ ì‚¬ì§„ì²˜ëŸ¼ ì¼ê¸°ì˜ˆë³´ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![result](https://github.com/EndlessCreation/Web_basic_study_2021-1/assets/68912105/ad994fba-e9f2-40b3-a8c1-8662238eced7)
![if_rain](https://github.com/EndlessCreation/Web_basic_study_2021-1/assets/68912105/849dfba7-a868-44cc-bd0c-98d53f165fa9)

4. 3ë²ˆê³¼ ë™ì¼í•˜ê²Œ ë„ì‹œë¥¼ ì…ë ¥í•˜ê³  ì£¼ê°„ ë‚ ì”¨ë¥¼ ëˆ„ë¥´ê²Œ ë˜ë©´ í¬ë¡¬ì°½ì´ ì‹¤í–‰ë˜ë©´ì„œ ì£¼ê°„ë‚ ì”¨ì— ëŒ€í•œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤. 
ì´ ê³¼ì •ì„ ì§€ë‚˜ê²Œ ë˜ë©´ ìƒˆë¡œìš´ ì°½ì´ ì¼œì§€ë©° í•´ë‹¹ ë„ì‹œì˜ ì£¼ê°„ë‚ ì”¨ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
![weekly](https://github.com/EndlessCreation/Web_basic_study_2021-1/assets/68912105/971f58ac-a1db-46c3-a11d-17bf5a3a50f2)

5. ì°½ì„ ë„ê³ ì‹¶ë‹¤ë©´ ì¢…ë£Œë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì°½ì´ êº¼ì§€ê²Œ ë©ë‹ˆë‹¤.

### ğŸ’¬ì„¸ë¶€ ì½”ë“œ ì„¤ëª…
- ì´ ë¶€ë¶„ì´ ì—†ë‹¤ë©´ ë©”ì¸ í™”ë©´ì—ì„œ ê²€ìƒ‰í•  ë„ì‹œë¥¼ ì…ë ¥í•  ë•Œ  "ë„ì‹œì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”." ë¶€ë¶„ì„ ì§€ìš°ê³  ë„ì‹œë¥¼ ì…ë ¥í•´ì•¼ í–ˆê¸°ì— í¸ì˜ì„±ì„ ìœ„í•´ "ë„ì‹œì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”."ë¥¼ ëˆ„ë¥´ê¸°ë§Œ í•˜ë©´ ë‹¤ ì§€ì›Œì§€ê³  ë°”ë¡œ ì…ë ¥í•  ìˆ˜ ìˆë„ë¡ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. 
    ```python
    def entry_focus_in(event):
    if entry1.get() == "ë„ì‹œì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.":
        entry1.delete(0,'end')
        entry1.config(fg="black")
    def entry_focus_out(event):
    if entry1.get() == " ":
        entry1.insert(0,"ë„ì‹œì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.")
        entry1.config(fg="gray")

    entry1 = Entry(frame,font=('ë‚˜ëˆ” ê³ ë”•',16,'bold'),justify=CENTER,fg='gray')
    entry1.place(relwidth=0.695, relheight=1)
    entry1.insert(0,"ë„ì‹œì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.")
    entry1.bind("<FocusIn>", entry_focus_in)
    entry1.bind("<FocusOut>", entry_focus_out)
    ```

- ì•„ë˜ì˜ ì½”ë“œëŠ” 'ì‚¬ìš©ë°©ë²• 3.1.'ì— ëŒ€í•œ ì½”ë“œë¡œ ì •í™•í•œ ë„ì‹œ ì´ë¦„ì´ ì‘ì„±ë˜ì§€ ì•Šì•˜ì„ ë•Œë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.
    ```python
    cityname=entry1.get()
    if cityname == "ë„ì‹œì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”." or cityname == "":
        top = Toplevel()
        top.title("Wrong Input")
        top.resizable(False, False)
        top.geometry("350x100+500+500")
        frame_error = Frame(top, bg='slategrey', bd=3)
        frame_error.place(relx=0.5, rely=0.025, relwidth=0.95, relheight=0.5, anchor='n')
        label = Label(frame_error, text="ë„ì‹œì´ë¦„ì„ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”",font=('ë‚˜ëˆ” ê³ ë”•',16,'bold'))
        label.place(relheight=1, relwidth=1)
        frame_error2 = Frame(top, bg='slategrey', bd=3)
        frame_error2.place(relx=0.5, rely=0.56, relwidth=0.5, relheight=0.4, anchor='n')
        button = Button(frame_error2, text="í™•ì¸",bg='lightsteelblue', font=('ë‚˜ëˆ” ê³ ë”•',16,'bold'), command=top.destroy)
        button.place(relheight=1, relwidth=1)
    ```
- ìµœê·¼ì— ëŒ€ë¶€ë¶„ì´ PC ë²„ì „ì˜ ì›¹ì‚¬ì´íŠ¸, Mobile ë²„ì „ì˜ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë³„ë„ë¡œ ë¶„ë¦¬í•´ì„œ ê°œë°œí•œ ì‚¬ì´íŠ¸ê°€ ë§ê¸° ë•Œë¬¸ì— ì–´ë–¤ ê¸°ê¸°ë¡œ ë“¤ì–´ì˜¤ëŠëƒì— ë”°ë¼ htmlì˜ ê°’ì´ ë‹¬ë¼ì§ˆ ë•Œê°€ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í•­ìƒ ì¼ì •í•œ í˜•ì‹ìœ¼ë¡œ í¬ë¡¤ë§ì„ í•´ì˜¤ê¸° ìœ„í•´ì„œ User-Agent ê°’ì„ ì •í•´ë‘ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. 
    ```python
    headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'}
    ```
- ì´ ì½”ë“œëŠ” BeautifulSoupë¥¼ ì´ìš©í•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•œ ì½”ë“œì…ë‹ˆë‹¤. soup.select()ë¥¼ í†µí•´ htmlì—ì„œ ì›í•˜ëŠ” idê°’ì„ ë¶ˆëŸ¬ì˜¤ê³  ìˆìŠµë‹ˆë‹¤.    
    ```python
    request=requests.get(url,headers=headers)
    request.raise_for_status()
    soup=BeautifulSoup(request.text,"html.parser")

    temperature=soup.select('#wob_tm')  
    timedate=soup.select('#wob_dts')  
    location=soup.select('#wob_loc') 
    weathercondition=soup.select('#wob_dc')
    rainprobability = soup.select('#wob_pp')
    ```
    
- seleniumì„ ì´ìš©í•  ë•Œ í¬ë¡¬ì°½ì„ í‚¤ê²Œ ë˜ëŠ”ë° ìµœëŒ€ í¬ê¸°ë¡œ í‚¤ê²Œ í•´ì£¼ëŠ” ì½”ë“œì…ë‹ˆë‹¤.
    ```python
    chrome_options = webdriver.ChromeOptions()
    chrome_options.add_argument('--start-maximized')
    ```

- ë³´í†µ seleniumì„ ì´ìš©í•˜ê²Œ ë˜ë©´ ë³„ë„ì˜ chromedriverë¥¼ ì´ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
í•˜ì§€ë§Œ ì•„ë˜ì˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê¸°ë•Œë¬¸ì— ì½”ë“œì•ˆì—ì„œ ë°”ë¡œ chromedriverë¥¼ ìë™ìœ¼ë¡œ ì„¤ì¹˜í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

    ```python
        driver = webdriver.Chrome(service=Service(ChromeDriverManager().install()),options = chrome_options)
    ```
- ì•„ë˜ì˜ ì½”ë“œëŠ” ì£¼ì†Œë¥¼ ê²€ìƒ‰í•´ì„œ ì›í•˜ëŠ” cssê°’ì„ ì„ íƒí•´ì„œ ìŠ¤í¬ë¦°ìƒ·ì„ ë§Œë“œëŠ” ì½”ë“œì…ë‹ˆë‹¤.
    ```python
    url_weather= 'https://search.naver.com/search.naver?where=nexearch&sm=top_&fbm=0&ie=utf8&query=%s+ë‚ ì”¨'%(cityname)
    driver.get(url=url_weather)
    driver.execute_script("window.scrollTo(0, 350)")
    path = 'C:/Users/user/Desktop/weather/weekly.jpg'
    element = driver.find_element(By.CSS_SELECTOR, '.weekly_forecast_area._toggle_panel, weekly_forecast_area._weekly_forecast')
    element.screenshot(path)
    ```
    

### â“beautifulsoupê³¼ selenium
- beautifulsoupê³¼ seleniumì€ ëª¨ë‘ ì›¹ì˜ htmlìš”ì†Œë¥¼ íŒŒì´ì¬ìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

- ì´ ë‘˜ì˜ ì°¨ì´ì ì´ë¼ê³  í•œë‹¤ë©´ beautifulsoupëŠ” requestsë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•´ ì›¹ì˜ ì •ë³´ë¥¼ ë°”ë¡œ ë°›ì•„ì„œ ë°ì´í„°ë¥¼ íŒŒì‹±í•´ ì •ì  ìˆ˜ì§‘ì„ í•˜ì§€ë§Œ
seleiumì˜ ê²½ìš° seleniumê³¼ chromedriverë¥¼ ì´ìš©í•´ ì›¹ì„ ì—´ê³  ë¸Œë¼ìš°ì €ë¥¼ ë°›ì•„ ë™ì  ìˆ˜ì§‘ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ë”°ë¼ì„œ beautifulsoupê³¼ seleniumë³´ë‹¤ ìƒëŒ€ì ìœ¼ë¡œ ë” ë¹ ë¦…ë‹ˆë‹¤. 

- ì´ í”„ë¡œì íŠ¸ì—ì„œ ë‘ê°€ì§€ ëª¨ë‘ë¥¼ ì‚¬ìš©í•˜ê²Œ ëœ ì´ìœ ëŠ” ì¼ì¼ ë‚ ì”¨ì˜ ê²½ìš° ë¹ ë¥´ê²Œ ë‚ ì”¨ì™€ ê¸°ì˜¨ë§Œì„ ë¹ ë¥´ê²Œ ë³´ëŠ” ê²ƒì— ì¤‘ì ì„ ë‘ì–´ ìŠ¤í¬ë¦°ìƒ·ë³´ë‹¤ ë°ì´í„°ë¥¼ ì–»ëŠ” ì†ë„ê°€ ë¹ ë¥¸ í…ìŠ¤íŠ¸ë¡œ í‘œí˜„í•˜ê¸° ìœ„í•´ beautifulsoupì‚¬ìš©í–ˆê³  ì£¼ê°„ ë‚ ì”¨ì˜ ê²½ìš° ë„¤ì´ë²„ì˜ ì£¼ê°„ì—ë³´íƒ­ì˜ ì •ë³´ê°€ ì¶©ë¶„íˆ ì¢‹ê³  ë³´ê¸° ì‰½ê²Œ ë˜ì–´ìˆë‹¤ê³  íŒë‹¨í•´ ìŠ¤í¬ë¦°ìƒ·ìœ¼ë¡œ ì°ì–´ì„œ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ ë” íš¨ê³¼ì ì´ë¼ê³  ìƒê°ì„ í•´ì„œ seleniumì„ ì´ìš©í–ˆìŠµë‹ˆë‹¤

### ğŸ“š ì°¸ì¡°

* tkinter ì‚¬ìš©ë²•: <https://076923.github.io/posts/Python-tkinter-1/>

* beautifulsoup ë° request ì‚¬ìš©ë²•: <https://pythonblog.co.kr/coding/10/>

* í¬ë¡¤ë§ íŠ¹ì • ì˜ì—­ í™”ë©´ ìº¡ì³í•˜ê¸°: <https://youtube.com/watch?v=DKt3UdWHNSw&t=1097s>
